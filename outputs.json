{
  "latestVersion": 3,
  "name": "gap-analysis.md",
  "versions": {
    "1": "# Stock & Sales Module\n\n## 1. Common Configuration\n\nThis screen centralizes global controls and settings that apply across the Stock & Sales module, ensuring that data entry, access permissions, audit trails, notifications, and integrations obey company policies.\n\n**Key highlights:**\n- Data entry period locks per module and user group  \n- Comprehensive audit logs for all transactions  \n- Material issue category access mirroring location permissions  \n- Dashboard widget for pending approvals  \n- Dedicated tab for store-related functions  \n- Automated payroll journal posting to ERP  \n- Fixed asset-device-person mapping  \n- Consistent decimal precision across the system  \n- Real-time lorry GPS tracking  \n\n```json\n{\"brsDiagram\": {}}\n```\n\nAdditional details for each functional module:\n1. Data Entry Period Control  \n   - Manages opening and closing of data entry windows by module and user group.  \n   - Inputs: Module ID, user group, start date, end date  \n   - Process: Validate permissions; enforce locks; log changes  \n   - Outputs: Confirmation messages; enabled/disabled screens  \n\n2. Audit Trail  \n   - Records every create, read, update, or delete action within the module.  \n   - Inputs: User ID, action type, timestamp, record ID  \n   - Process: Capture and store audit entries  \n   - Outputs: Searchable audit log  \n\n3. Material Issue Category Access  \n   - Applies category‑based access rights to material issue functions.  \n   - Inputs: User roles, category list, location assignment  \n   - Process: Evaluate and filter permitted categories  \n   - Outputs: Category dropdown limited to permissions  \n\n4. Pending Approvals Dashboard  \n   - Displays all transactions awaiting approval across modules.  \n   - Inputs: User role, pending-queue data  \n   - Process: Query ‘Pending’ items; aggregate by module  \n   - Outputs: Dashboard cards with counts and quick links  \n\n5. Stores Tab  \n   - Provides a consolidated view of store operations in a separate tab.  \n   - Inputs: Store IDs, inventory snapshots  \n   - Process: Load store-specific functions (GRN, GRNR, Transfer)  \n   - Outputs: Tabbed menu with store actions  \n\n6. Payroll Journal Automation  \n   - Syncs payroll journal entries to ERP as in the legacy system.  \n   - Inputs: Journal definition, payroll run ID  \n   - Process: Format and post via ERP API  \n   - Outputs: ERP confirmation or error log  \n\n7. Fixed Asset Mapping  \n   - Links devices to responsible personnel in the asset register.  \n   - Inputs: Asset tag, employee ID  \n   - Process: Validate asset; assign mapping  \n   - Outputs: Assignment confirmation  \n\n8. Decimal Precision Configuration  \n   - Ensures numerical fields adhere to corporate decimal standards.  \n   - Inputs: Decimal precision (e.g., 2, 4)  \n   - Process: Apply formatting to UI and reports  \n   - Outputs: Consistent numeric display  \n\n9. Lorry GPS Tracking  \n   - Monitors vehicle location in real time during deliveries.  \n   - Inputs: GPS feed, lorry ID  \n   - Process: Poll GPS endpoint; update coordinates  \n   - Outputs: Live map view and path logs  \n\n## 2. Brand Master File\n\nThis screen manages **product brand** definitions, enforcing a hierarchical link to the product hierarchy and supporting full CRUD (Create, Read, Update, Delete).\n\n```json\n{\"brsDiagram\": {}}\n```\n\nKey functions and data:\n| Brand ID | Brand Name    | Type         |\n|---------:|---------------|--------------|\n| B001     | SMAK Original | SMAK         |\n| B002     | SMAK Zero     | SMAK         |\n| B003     | TradeMaster   | TRADING      |\n| B004     | RawEssence    | RAW MATERIAL |\n| B005     | FillFast      | FILLING      |\n| B006     | SnackKing     | TRADING      |\n| B007     | RawBlend      | RAW MATERIAL |\n\n- Create Brand  \n  • Inputs: Brand name, type  \n  • Process: Validate uniqueness, assign ID, persist  \n  • Outputs: New brand record  \n\n- Update Brand  \n  • Inputs: Brand ID, updated fields  \n  • Process: Validate changes, apply updates  \n  • Outputs: Updated record and audit log  \n\n- Delete Brand  \n  • Inputs: Brand ID  \n  • Process: Check for linked products; soft-delete if none  \n  • Outputs: Deletion confirmation or blocking message  \n\n- List Brands  \n  • Inputs: Filter criteria (type, name)  \n  • Process: Query and paginate  \n  • Outputs: Brand grid  \n\n## 3. Group Master File\n\nDefines **product groups**, linking upward to brands and downward to categories.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Group ID | Group Name |\n|---------:|------------|\n| G001     | 190 GLASS  |\n| G002     | WATER      |\n| G003     | PET        |\n| G004     | TETRA      |\n| G005     | RAW        |\n| G006     | SNACK      |\n| G007     | BITE       |\n\n- Create Group: inputs (name, brand), process (validate, save), outputs (new group)  \n- Update Group: inputs (ID, new name), process (validate, update), outputs (updated record)  \n- Delete Group: inputs (ID), process (check dependencies), outputs (result)  \n- List Groups: inputs (search), process (filter), outputs (grid)  \n\n## 4. Category Master File\n\nCaptures **product categories** for further sub‑classification.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Category ID | Category Name |\n|------------:|---------------|\n| C001        | 190 FRUIT     |\n| C002        | 190 MILK      |\n| C003        | WATER         |\n| C004        | TETRA         |\n| C005        | HOT & SPICY   |\n| C006        | KISSES        |\n| C007        | OTHER         |\n\nCRUD modules follow the same pattern as Brand and Group.  \n\n## 5. Sub Category Master File\n\nHandles **sub‑categories**, linked directly to categories.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| SubCat ID | SubCategory  |\n|----------:|--------------|\n| SC001     | MILK         |\n| SC002     | FRUIT LABEL  |\n| SC003     | LID          |\n| SC004     | CONTAINER    |\n| SC005     | CAP          |\n| SC006     | WRAPPER      |\n| SC007     | BOX          |\n\nCRUD modules as above.  \n\n## 6. Product Master File\n\nCentral screen for **products**, linking sub‑category and category; brand and group are auto‑filled.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Prod ID | Code   | Name           | Brand       | Group     | Category   | SubCategory | Capacity (L) | QC  | Expiry | BatchType | PriceLvl1 |\n|--------:|--------|----------------|-------------|-----------|------------|-------------|-------------:|-----|--------|-----------|----------|\n| P001    | SMK100 | Smak Cola      | SMAK        | 190 GLASS | 190 FRUIT  | LID         | 0.33         | Yes | No     | FIFO      | 1.00      |\n| P002    | SMK200 | Smak Diet Cola | SMAK        | 190 GLASS | 190 FRUIT  | CAP         | 0.33         | Yes | No     | FIFO      | 1.10      |\n| P003    | TRD01  | Trade Orange   | TRADING     | PET       | WATER      | CONTAINER   | 0.5          | No  | No     | FIFO      | 0.80      |\n| P004    | RAWB01 | Raw Batch Milk | RAW MATERIAL| RAW       | 190 MILK   | BOX         | 1.0          | No  | Yes    | Batch     | 0.95      |\n| P005    | FLT01  | FillFast Juice | FILLING     | TETRA     | TETRA      | WRAPPER     | 1.5          | Yes | No     | FIFO      | 1.50      |\n| P006    | SNK01  | Snack Bite     | TRADING     | SNACK     | HOT & SPICY| CAP         | 0.0          | No  | No     | FIFO      | 0.50      |\n| P007    | RAWP01 | Pulp Raw Mix   | RAW MATERIAL| RAW       | RAW        | CONTAINER   | 10.0         | No  | No     | Batch     | 5.00      |\n\n- Create Product: inputs (code, links, flags, capacity); process (auto-fill, validate); outputs (new record)  \n- Update Product: inputs (ID, fields); process (validate inter-dependencies); outputs (updated)  \n- Bulk Price Update: inputs (levels, dates); process (apply, log); outputs (history)  \n- Excel Price Upload/Download: file import/export, column mapping, validation  \n- Discount Free Issue Upload: template import, rule validation  \n- Pulp-to-Raw Mapping: inputs (pulp, raw, %); process (save, calculate); outputs (mapping)  \n\n## 7. QC Parameter Master File\n\nDefines **quality control parameters** for QC-marked products.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Param ID | Parameter     | Unit    | Min  | Max  |\n|---------:|---------------|---------|-----:|-----:|\n| Q001     | pH Level      | pH      | 3.5  | 4.5  |\n| Q002     | Viscosity     | cP      | 50   | 150  |\n| Q003     | Brix          | °Bx     | 8    | 12   |\n| Q004     | Moisture      | %       | 0    | 0.5  |\n| Q005     | Color         | EBC     | 10   | 20   |\n| Q006     | Density       | kg/m³   |1000  |1020  |\n| Q007     | Particle Size | microns | 10   |100   |\n\n- Create/Update/Delete QC Parameter  \n- Link Parameter to Product  \n\n## 8. Purchase Order Entry\n\nEnter **purchase orders**, enforce QC/Non‑QC separation, multi‑level approvals, certificate checks, and notifications.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- **QC/Non‑QC Validation**: prevents mixing both types; shows popup.  \n- **Approval Workflow**: Data Entry → Purchasing Manager → Finance; separate bulk‐PO interface; track serial.  \n- **Validity & Certificates**: select validity period; block if certificate missing/expired.  \n- **Email Notifications**: send PO PDF to supplier; notify purchasing manager.  \n\n## 9. QC Approve Entry\n\nProcess QC approvals for **QC‑marked purchase orders** with document attachments and parameter inputs.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Display only POs containing QC items  \n- Product‑wise grids for analysis report & internal doc attachments  \n- Three outcomes: Total Approve, Partial Approve/Reject, Total Reject  \n- Enter QC parameter values per product  \n- Select reject reasons and enter remarks  \n- On approval, forward items to GRN  \n\n## 10. Goods Received Note\n\nRecord **receipt of goods**, capture manufacturing/expiry dates, handle barcode stickers, invoice linking, and quantity enforcement.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- **GRN Entry**: mandatory dates for expiry products; capture supplier invoice details; enforce PO qty limits; block expired‑validity POs  \n- **Barcode Printing**: choose number of copies  \n- **Invoice Handling**: with/without invoice options; update balances only if invoiced  \n- **Batch Management**: maintain internal batch numbers  ",
    "2": "# Stock & Sales Module\n\n## 1. Common Configuration\n\nThis screen centralizes global controls and settings that apply across the Stock & Sales module, ensuring that data entry, access permissions, audit trails, notifications, and integrations obey company policies.\n\n**Key highlights:**\n- Data entry period locks per module and user group  \n- Comprehensive audit logs for all transactions  \n- Material issue category access mirroring location permissions  \n- Dashboard widget for pending approvals  \n- Dedicated tab for store-related functions  \n- Automated payroll journal posting to ERP  \n- Fixed asset-device-person mapping  \n- Consistent decimal precision across the system  \n- Real-time lorry GPS tracking  \n\n```json\n{\"brsDiagram\": {}}\n```\n\nAdditional details for each functional module:\n1. Data Entry Period Control  \n   - Manages opening and closing of data entry windows by module and user group.  \n   - Inputs: Module ID, user group, start date, end date  \n   - Process: Validate permissions; enforce locks; log changes  \n   - Outputs: Confirmation messages; enabled/disabled screens  \n\n2. Audit Trail  \n   - Records every create, read, update, or delete action within the module.  \n   - Inputs: User ID, action type, timestamp, record ID  \n   - Process: Capture and store audit entries  \n   - Outputs: Searchable audit log  \n\n3. Material Issue Category Access  \n   - Applies category‑based access rights to material issue functions.  \n   - Inputs: User roles, category list, location assignment  \n   - Process: Evaluate and filter permitted categories  \n   - Outputs: Category dropdown limited to permissions  \n\n4. Pending Approvals Dashboard  \n   - Displays all transactions awaiting approval across modules.  \n   - Inputs: User role, pending-queue data  \n   - Process: Query ‘Pending’ items; aggregate by module  \n   - Outputs: Dashboard cards with counts and quick links  \n\n5. Stores Tab  \n   - Provides a consolidated view of store operations in a separate tab.  \n   - Inputs: Store IDs, inventory snapshots  \n   - Process: Load store-specific functions (GRN, GRNR, Transfer)  \n   - Outputs: Tabbed menu with store actions  \n\n6. Payroll Journal Automation  \n   - Syncs payroll journal entries to ERP as in the legacy system.  \n   - Inputs: Journal definition, payroll run ID  \n   - Process: Format and post via ERP API  \n   - Outputs: ERP confirmation or error log  \n\n7. Fixed Asset Mapping  \n   - Links devices to responsible personnel in the asset register.  \n   - Inputs: Asset tag, employee ID  \n   - Process: Validate asset; assign mapping  \n   - Outputs: Assignment confirmation  \n\n8. Decimal Precision Configuration  \n   - Ensures numerical fields adhere to corporate decimal standards.  \n   - Inputs: Decimal precision (e.g., 2, 4)  \n   - Process: Apply formatting to UI and reports  \n   - Outputs: Consistent numeric display  \n\n9. Lorry GPS Tracking  \n   - Monitors vehicle location in real time during deliveries.  \n   - Inputs: GPS feed, lorry ID  \n   - Process: Poll GPS endpoint; update coordinates  \n   - Outputs: Live map view and path logs  \n\n## 2. Brand Master File\n\nThis screen manages **product brand** definitions, enforcing a hierarchical link to the product hierarchy and supporting full CRUD (Create, Read, Update, Delete).\n\n```json\n{\"brsDiagram\": {}}\n```\n\nKey functions and data:\n| Brand ID | Brand Name    | Type         |\n|---------:|---------------|--------------|\n| B001     | SMAK Original | SMAK         |\n| B002     | SMAK Zero     | SMAK         |\n| B003     | TradeMaster   | TRADING      |\n| B004     | RawEssence    | RAW MATERIAL |\n| B005     | FillFast      | FILLING      |\n| B006     | SnackKing     | TRADING      |\n| B007     | RawBlend      | RAW MATERIAL |\n\n- Create Brand  \n  • Inputs: Brand name, type  \n  • Process: Validate uniqueness, assign ID, persist  \n  • Outputs: New brand record  \n\n- Update Brand  \n  • Inputs: Brand ID, updated fields  \n  • Process: Validate changes, apply updates  \n  • Outputs: Updated record and audit log  \n\n- Delete Brand  \n  • Inputs: Brand ID  \n  • Process: Check for linked products; soft-delete if none  \n  • Outputs: Deletion confirmation or blocking message  \n\n- List Brands  \n  • Inputs: Filter criteria (type, name)  \n  • Process: Query and paginate  \n  • Outputs: Brand grid  \n\n## 3. Group Master File\n\nDefines **product groups**, linking upward to brands and downward to categories.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Group ID | Group Name |\n|---------:|------------|\n| G001     | 190 GLASS  |\n| G002     | WATER      |\n| G003     | PET        |\n| G004     | TETRA      |\n| G005     | RAW        |\n| G006     | SNACK      |\n| G007     | BITE       |\n\n- Create Group: inputs (name, brand), process (validate, save), outputs (new group)  \n- Update Group: inputs (ID, new name), process (validate, update), outputs (updated record)  \n- Delete Group: inputs (ID), process (check dependencies), outputs (result)  \n- List Groups: inputs (search), process (filter), outputs (grid)  \n\n## 4. Category Master File\n\nCaptures **product categories** for further sub‑classification.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Category ID | Category Name |\n|------------:|---------------|\n| C001        | 190 FRUIT     |\n| C002        | 190 MILK      |\n| C003        | WATER         |\n| C004        | TETRA         |\n| C005        | HOT & SPICY   |\n| C006        | KISSES        |\n| C007        | OTHER         |\n\nCRUD modules follow the same pattern as Brand and Group.  \n\n## 5. Sub Category Master File\n\nHandles **sub‑categories**, linked directly to categories.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| SubCat ID | SubCategory  |\n|----------:|--------------|\n| SC001     | MILK         |\n| SC002     | FRUIT LABEL  |\n| SC003     | LID          |\n| SC004     | CONTAINER    |\n| SC005     | CAP          |\n| SC006     | WRAPPER      |\n| SC007     | BOX          |\n\nCRUD modules as above.  \n\n## 6. Product Master File\n\nCentral screen for **products**, linking sub‑category and category; brand and group are auto‑filled.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Prod ID | Code   | Name           | Brand       | Group     | Category   | SubCategory | Capacity (L) | QC  | Expiry | BatchType | PriceLvl1 |\n|--------:|--------|----------------|-------------|-----------|------------|-------------|-------------:|-----|--------|-----------|----------|\n| P001    | SMK100 | Smak Cola      | SMAK        | 190 GLASS | 190 FRUIT  | LID         | 0.33         | Yes | No     | FIFO      | 1.00      |\n| P002    | SMK200 | Smak Diet Cola | SMAK        | 190 GLASS | 190 FRUIT  | CAP         | 0.33         | Yes | No     | FIFO      | 1.10      |\n| P003    | TRD01  | Trade Orange   | TRADING     | PET       | WATER      | CONTAINER   | 0.5          | No  | No     | FIFO      | 0.80      |\n| P004    | RAWB01 | Raw Batch Milk | RAW MATERIAL| RAW       | 190 MILK   | BOX         | 1.0          | No  | Yes    | Batch     | 0.95      |\n| P005    | FLT01  | FillFast Juice | FILLING     | TETRA     | TETRA      | WRAPPER     | 1.5          | Yes | No     | FIFO      | 1.50      |\n| P006    | SNK01  | Snack Bite     | TRADING     | SNACK     | HOT & SPICY| CAP         | 0.0          | No  | No     | FIFO      | 0.50      |\n| P007    | RAWP01 | Pulp Raw Mix   | RAW MATERIAL| RAW       | RAW        | CONTAINER   | 10.0         | No  | No     | Batch     | 5.00      |\n\n- Create Product: inputs (code, links, flags, capacity); process (auto-fill, validate); outputs (new record)  \n- Update Product: inputs (ID, fields); process (validate inter-dependencies); outputs (updated)  \n- Bulk Price Update: inputs (levels, dates); process (apply, log); outputs (history)  \n- Excel Price Upload/Download: file import/export, column mapping, validation  \n- Discount Free Issue Upload: template import, rule validation  \n- Pulp-to-Raw Mapping: inputs (pulp, raw, %); process (save, calculate); outputs (mapping)  \n\n## 7. QC Parameter Master File\n\nDefines **quality control parameters** for QC-marked products.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Param ID | Parameter     | Unit    | Min  | Max  |\n|---------:|---------------|---------|-----:|-----:|\n| Q001     | pH Level      | pH      | 3.5  | 4.5  |\n| Q002     | Viscosity     | cP      | 50   | 150  |\n| Q003     | Brix          | °Bx     | 8    | 12   |\n| Q004     | Moisture      | %       | 0    | 0.5  |\n| Q005     | Color         | EBC     | 10   | 20   |\n| Q006     | Density       | kg/m³   |1000  |1020  |\n| Q007     | Particle Size | microns | 10   |100   |\n\n- Create/Update/Delete QC Parameter  \n- Link Parameter to Product  \n\n## 8. Purchase Order Entry\n\nEnter **purchase orders**, enforce QC/Non‑QC separation, multi‑level approvals, certificate checks, and notifications.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- **QC/Non‑QC Validation**: prevents mixing both types; shows popup.  \n- **Approval Workflow**: Data Entry → Purchasing Manager → Finance; separate bulk‐PO interface; track serial.  \n- **Validity & Certificates**: select validity period; block if certificate missing/expired.  \n- **Email Notifications**: send PO PDF to supplier; notify purchasing manager.  \n\n## 9. QC Approve Entry\n\nProcess QC approvals for **QC‑marked purchase orders** with document attachments and parameter inputs.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Display only POs containing QC items  \n- Product‑wise grids for analysis report & internal doc attachments  \n- Three outcomes: Total Approve, Partial Approve/Reject, Total Reject  \n- Enter QC parameter values per product  \n- Select reject reasons and enter remarks  \n- On approval, forward items to GRN  \n\n## 10. Goods Received Note\n\nRecord **receipt of goods**, capture manufacturing/expiry dates, handle barcode stickers, invoice linking, and quantity enforcement.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- **GRN Entry**: mandatory dates for expiry products; capture supplier invoice details; enforce PO qty limits; block expired‑validity POs  \n- **Barcode Printing**: choose number of copies  \n- **Invoice Handling**: with/without invoice options; update balances only if invoiced  \n- **Batch Management**: maintain internal batch numbers  ",
    "3": "# Overview\n\nThis Business Requirements Specification (BRS) document covers the comprehensive set of modules in the new enterprise resource planning system, structured to provide clear guidance on functional requirements, data flows, business rules, user screens, and reporting. This revision reconstructs the existing Stock & Sales module—organizing it into four sub-sections (Common Configuration, Master Files, Transactions, Reports)—and introduces five additional modules: Accounts Receivable, Accounts Payable, Manufacturing, Petty Cash, and Sugar Tax. Each module section follows a consistent BRS structure, including screen-level specifications, data diagrams, process details, and data validation rules. The rationale, overview, and full context of all user notes are provided throughout, with unedited notes included at the end of the document.\n\n# Table of Contents\n\n1 Overview  \n2 Table of Contents  \n3 Stock & Sales Module  \n   3.1 Common Configuration  \n   3.2 Master Files  \n       3.2.1 Brand Master File  \n       3.2.2 Group Master File  \n       3.2.3 Category Master File  \n       3.2.4 Sub Category Master File  \n       3.2.5 Product Master File  \n       3.2.6 QC Parameter Master File  \n   3.3 Transactions  \n       3.3.1 Purchase Order Entry  \n       3.3.2 QC Approve Entry  \n       3.3.3 Goods Received Note  \n   3.4 Reports  \n4 Accounts Receivable Module  \n   4.1 Customer Master File  \n   4.2 AR Invoice Entry  \n   4.3 Customer Receipt Entry  \n   4.4 AR Credit Memo Entry  \n   4.5 AR Aging Report  \n   4.6 AR Ledger Report  \n   4.7 Customer Statement Report  \n5 Accounts Payable Module  \n   5.1 Vendor Master File  \n   5.2 AP Invoice Entry  \n   5.3 AP Payment Entry  \n   5.4 AP Credit Note Entry  \n   5.5 AP Aging Report  \n   5.6 AP Ledger Report  \n   5.7 Vendor Statement Report  \n6 Manufacturing Module  \n   6.1 Bill of Materials Master File  \n   6.2 Routing Master File  \n   6.3 Work Order Entry  \n   6.4 Material Issue Transaction  \n   6.5 Production Completion Transaction  \n   6.6 Production Schedule Report  \n   6.7 WIP Report  \n7 Petty Cash Module  \n   7.1 Petty Cash Fund Master File  \n   7.2 Petty Cash Voucher Entry  \n   7.3 Petty Cash Replenishment Request  \n   7.4 Petty Cash Journal Report  \n   7.5 Petty Cash Balance Report  \n8 Sugar Tax Module  \n   8.1 Sugar Tax Rate Master File  \n   8.2 Sugar Tax Calculation Screen  \n   8.3 Sugar Tax Return Submission  \n   8.4 Sugar Tax Liability Report  \n   8.5 Sugar Tax Return History Report  \n9 NOTES  \n\n# Stock & Sales Module\n\n### Common Configuration\n\n## 1. Common Configuration\n\nThis screen centralizes global controls and settings that apply across the Stock & Sales module, ensuring that data entry, access permissions, audit trails, notifications, and integrations obey company policies.\n\n**Key highlights:**\n- Data entry period locks per module and user group  \n- Comprehensive audit logs for all transactions  \n- Material issue category access mirroring location permissions  \n- Dashboard widget for pending approvals  \n- Dedicated tab for store-related functions  \n- Automated payroll journal posting to ERP  \n- Fixed asset-device-person mapping  \n- Consistent decimal precision across the system  \n- Real-time lorry GPS tracking  \n\n```json\n{\"brsDiagram\": {}}\n```\n\nDetailed specifications:\n- Inputs: Module ID, User Group, Start Date, End Date  \n- Process:  \n  1. Validate permissions against user roles  \n  2. Enforce open/close locks on selected modules  \n  3. Log configuration changes in the audit trail  \n- Outputs: Confirmation messages; Updated lock statuses on screens  \n\nAdditional details for each functional module:\n1. Data Entry Period Control  \n   - Manages opening and closing of data entry windows by module and user group.  \n   - Inputs: Module ID, user group, start date, end date  \n   - Process: Validate permissions; enforce locks; log changes  \n   - Outputs: Confirmation messages; enabled/disabled screens  \n\n2. Audit Trail  \n   - Records every create, read, update, or delete action within the module.  \n   - Inputs: User ID, action type, timestamp, record ID  \n   - Process: Capture and store audit entries  \n   - Outputs: Searchable audit log  \n\n3. Material Issue Category Access  \n   - Applies category-based access rights to material issue functions.  \n   - Inputs: User roles, category list, location assignment  \n   - Process: Evaluate and filter permitted categories  \n   - Outputs: Category dropdown limited to permissions  \n\n4. Pending Approvals Dashboard  \n   - Displays all transactions awaiting approval across modules.  \n   - Inputs: User role, pending-queue data  \n   - Process: Query ‘Pending’ items; aggregate by module  \n   - Outputs: Dashboard cards with counts and quick links  \n\n5. Stores Tab  \n   - Provides a consolidated view of store operations in a separate tab.  \n   - Inputs: Store IDs, inventory snapshots  \n   - Process: Load store-specific functions (GRN, GRNR, Transfer)  \n   - Outputs: Tabbed menu with store actions  \n\n6. Payroll Journal Automation  \n   - Syncs payroll journal entries to ERP as in the legacy system.  \n   - Inputs: Journal definition, payroll run ID  \n   - Process: Format and post via ERP API  \n   - Outputs: ERP confirmation or error log  \n\n7. Fixed Asset Mapping  \n   - Links devices to responsible personnel in the asset register.  \n   - Inputs: Asset tag, employee ID  \n   - Process: Validate asset; assign mapping  \n   - Outputs: Assignment confirmation  \n\n8. Decimal Precision Configuration  \n   - Ensures numerical fields adhere to corporate decimal standards.  \n   - Inputs: Decimal precision (e.g., 2, 4)  \n   - Process: Apply formatting to UI and reports  \n   - Outputs: Consistent numeric display  \n\n9. Lorry GPS Tracking  \n   - Monitors vehicle location in real time during deliveries.  \n   - Inputs: GPS feed, lorry ID  \n   - Process: Poll GPS endpoint; update coordinates  \n   - Outputs: Live map view and path logs  \n\n### Master Files\n\n## 2. Brand Master File\n\nThis screen manages product brand definitions, enforcing a hierarchical link to the product hierarchy and supporting full CRUD (Create, Read, Update, Delete).\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Brand ID | Brand Name    | Type         |\n|---------:|---------------|--------------|\n| B001     | SMAK Original | SMAK         |\n| B002     | SMAK Zero     | SMAK         |\n| B003     | TradeMaster   | TRADING      |\n| B004     | RawEssence    | RAW MATERIAL |\n| B005     | FillFast      | FILLING      |\n| B006     | SnackKing     | TRADING      |\n| B007     | RawBlend      | RAW MATERIAL |\n\n- Create Brand  \n  • Inputs: Brand Name, Type  \n  • Process: Validate uniqueness; Assign Brand ID; Persist record  \n  • Outputs: New brand record; Audit log entry  \n- Update Brand  \n  • Inputs: Brand ID, Updated Fields  \n  • Process: Validate changes; Apply updates; Log modifications  \n  • Outputs: Updated record  \n- Delete Brand  \n  • Inputs: Brand ID  \n  • Process: Check for linked products; Soft-delete or block  \n  • Outputs: Confirmation or error  \n- List Brands  \n  • Inputs: Filter criteria (Type, Name)  \n  • Process: Query and paginate  \n  • Outputs: Brand grid  \n\n## 3. Group Master File\n\nDefines product groups, linking upward to brands and downward to categories.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Group ID | Group Name |\n|---------:|------------|\n| G001     | 190 GLASS  |\n| G002     | WATER      |\n| G003     | PET        |\n| G004     | TETRA      |\n| G005     | RAW        |\n| G006     | SNACK      |\n| G007     | BITE       |\n\n- Create Group  \n  • Inputs: Name, Brand  \n  • Process: Validate uniqueness; Assign ID; Save  \n  • Outputs: New group record  \n- Update Group  \n  • Inputs: Group ID, New Name  \n  • Process: Validate; Update; Log changes  \n  • Outputs: Updated record  \n- Delete Group  \n  • Inputs: Group ID  \n  • Process: Check linked categories/products; Block or soft-delete  \n  • Outputs: Success or blocking message  \n- List Groups  \n  • Inputs: Search criteria  \n  • Process: Filter, sort  \n  • Outputs: Group grid  \n\n## 4. Category Master File\n\nCaptures product categories for further sub-classification.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Category ID | Category Name |\n|------------:|---------------|\n| C001        | 190 FRUIT     |\n| C002        | 190 MILK      |\n| C003        | WATER         |\n| C004        | TETRA         |\n| C005        | HOT & SPICY   |\n| C006        | KISSES        |\n| C007        | OTHER         |\n\n- Create Category: inputs (Name, Group); process (validate, save); outputs (new record)  \n- Update Category: inputs (ID, New Name); process (validate, update); outputs (updated record)  \n- Delete Category: inputs (ID); process (check dependencies); outputs (result)  \n- List Categories: inputs (filters); process (query); outputs (grid)  \n\n## 5. Sub Category Master File\n\nHandles sub-categories, linked directly to categories.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| SubCat ID | SubCategory  |\n|----------:|--------------|\n| SC001     | MILK         |\n| SC002     | FRUIT LABEL  |\n| SC003     | LID          |\n| SC004     | CONTAINER    |\n| SC005     | CAP          |\n| SC006     | WRAPPER      |\n| SC007     | BOX          |\n\n- Create Sub Category: inputs (Name, Category); process (validate, save); outputs (new record)  \n- Update Sub Category: inputs (ID, New Name); process (validate, update); outputs (updated record)  \n- Delete Sub Category: inputs (ID); process (dependency check); outputs (status)  \n- List Sub Categories: inputs (search); process (query); outputs (grid)  \n\n## 6. Product Master File\n\nCentral screen for products, linking sub-category and category; Brand and Group are auto-filled.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Prod ID | Code   | Name           | Brand       | Group     | Category   | SubCategory | Capacity (L) | QC  | Expiry | BatchType | PriceLvl1 |\n|--------:|--------|----------------|-------------|-----------|------------|-------------|-------------:|-----|--------|-----------|----------|\n| P001    | SMK100 | Smak Cola      | SMAK        | 190 GLASS | 190 FRUIT  | LID         | 0.33         | Yes | No     | FIFO      | 1.00      |\n| P002    | SMK200 | Smak Diet Cola | SMAK        | 190 GLASS | 190 FRUIT  | CAP         | 0.33         | Yes | No     | FIFO      | 1.10      |\n| P003    | TRD01  | Trade Orange   | TRADING     | PET       | WATER      | CONTAINER   | 0.5          | No  | No     | FIFO      | 0.80      |\n| P004    | RAWB01 | Raw Batch Milk | RAW MATERIAL| RAW       | 190 MILK   | BOX         | 1.0          | No  | Yes    | Batch     | 0.95      |\n| P005    | FLT01  | FillFast Juice | FILLING     | TETRA     | TETRA      | WRAPPER     | 1.5          | Yes | No     | FIFO      | 1.50      |\n| P006    | SNK01  | Snack Bite     | TRADING     | SNACK     | HOT & SPICY| CAP         | 0.0          | No  | No     | FIFO      | 0.50      |\n| P007    | RAWP01 | Pulp Raw Mix   | RAW MATERIAL| RAW       | RAW        | CONTAINER   | 10.0         | No  | No     | Batch     | 5.00      |\n\n- Create Product  \n  • Inputs: Code; Category; Sub Category; QC Flag; Expiry Flag; Capacity; Batch Type  \n  • Process: Auto-fill Brand/Group; Validate codes, capacity; Persist record  \n  • Outputs: New product record  \n- Update Product  \n  • Inputs: Prod ID; Fields to change  \n  • Process: Validate inter-dependencies (e.g., category/sub-category alignment); Save updates  \n  • Outputs: Updated record  \n- Bulk Price Update  \n  • Inputs: Price levels; Effective Date Range  \n  • Process: Validate date range; Apply price changes; Log history  \n  • Outputs: Price update summary  \n- Excel Price Upload/Download  \n  • Inputs: Excel template; Mapped columns  \n  • Process: Validate data; Persist changes; Provide feedback  \n  • Outputs: Success/failure report  \n- Discount Free Issue Upload  \n  • Inputs: Free issue rules  \n  • Process: Validate rule format; Save free issue definitions  \n  • Outputs: Confirmation  \n- Pulp-to-Raw Mapping  \n  • Inputs: Pulp Prod ID; Raw Prod ID; Percentage  \n  • Process: Save mapping; Update BOM associations  \n  • Outputs: Mapping report  \n\n## 7. QC Parameter Master File\n\nDefines quality control parameters for QC-marked products.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Param ID | Parameter     | Unit    | Min  | Max  |\n|---------:|---------------|---------|-----:|-----:|\n| Q001     | pH Level      | pH      | 3.5  | 4.5  |\n| Q002     | Viscosity     | cP      | 50   | 150  |\n| Q003     | Brix          | °Bx     | 8    | 12   |\n| Q004     | Moisture      | %       | 0    | 0.5  |\n| Q005     | Color         | EBC     | 10   | 20   |\n| Q006     | Density       | kg/m³   |1000  |1020  |\n| Q007     | Particle Size | microns | 10   |100   |\n\n- Create Parameter: inputs (Name, Unit, Min, Max); process (validate, save); outputs (new param)  \n- Update Parameter: inputs (ID, New values); process (validate, save); outputs (updated param)  \n- Delete Parameter: inputs (ID); process (dependency check); outputs (result)  \n- Link Parameter to Product: inputs (Prod ID, Param IDs); process (assign linkage); outputs (confirmation)  \n\n### Transactions\n\n## 8. Purchase Order Entry\n\nEnter purchase orders, enforcing QC/Non-QC separation, multi-level approvals, certificate checks, and notifications.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n**Functions and business rules:**\n- QC/Non-QC Validation: prevent mixing; show popup on violation.  \n- Approval Workflow: Data Entry → Purchasing Manager → Finance; support bulk-PO interface; track approval serial.  \n- Validity & Certificates: block if certificate missing or expired; select validity window per PO line.  \n- Email Notifications: generate PO PDF; email supplier; notify Purchasing Manager on pending approval.  \n\n## 9. QC Approve Entry\n\nProcess QC approvals for QC-marked purchase orders with document attachments and parameter inputs.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Display only POs containing QC items  \n- Product-wise grid for analysis report & internal doc attachments  \n- Outcomes: Total Approve, Partial Approve/Reject, Total Reject  \n- Enter QC parameter values per product  \n- Select reject reasons; enter remarks  \n- On approval, forward lines to GRN module  \n\n## 10. Goods Received Note\n\nRecord receipt of goods, capture manufacturing/expiry dates, handle barcode stickers, invoice linking, and quantity enforcement.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- GRN Entry:  \n  • Mandatory dates for expiry products  \n  • Capture supplier invoice details  \n  • Enforce PO line quantity limits  \n  • Block receipts against expired or invalid POs  \n- Barcode Printing: configurable copies per item  \n- Invoice Handling: option for with/without invoice; update supplier balances only if invoiced  \n- Batch Management: assign internal batch numbers; link to product and PO lines  \n\n### Reports\n\nNo dedicated report screens are defined in Stock & Sales. Key report requirements are handled via dashboards and BI tools, including the Pending Approvals Dashboard (see Common Configuration) and may be extended in future phases.\n\n# Accounts Receivable Module\n\nThis module manages customer credit transactions, ensuring accurate invoice posting, receipt processing, credit memo handling, and comprehensive reporting for aged balances and statements.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n## 1. Customer Master File\n\nManages customer definitions, credit terms, and contact details.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Customer ID   | Name             | Terms (Days) | Credit Limit | Region | Sales Rep | Status   |\n|--------------:|------------------|-------------:|-------------:|-------|----------|----------|\n| CUST001       | Alpha Corp       | 30           | 50000       | North  | John Doe | Active   |\n| CUST002       | Beta Traders     | 45           | 75000       | East   | Jane Roe | Active   |\n| CUST003       | Gamma Supplies   | 60           |100000       | South  | Jim Poe  | On Hold  |\n| CUST004       | Delta Retail     | 30           | 25000       | West   | Anna Lee | Active   |\n| CUST005       | Epsilon Foods    | 90           |150000       | North  | Bob Ray  | Active   |\n| CUST006       | Zeta Beverages   | 30           | 80000       | East   | Lily May | Closed   |\n| CUST007       | Eta Manufacturers| 60           |120000       | South  | Mark Jay | Active   |\n\n- Create Customer:  \n  • Inputs: Name, Address, Contact Info, Terms, Credit Limit, Region, Sales Rep  \n  • Process: Validate mandatory fields; Check duplicate names; Assign Customer ID  \n  • Outputs: Customer record; Audit log entry  \n- Update Customer:  \n  • Inputs: Customer ID, Updated fields  \n  • Process: Validate changes; Apply updates; Log modifications  \n  • Outputs: Updated customer record  \n- Delete Customer:  \n  • Inputs: Customer ID  \n  • Process: Check open invoices/receipts; Soft-delete if none; Block otherwise  \n  • Outputs: Deletion confirmation or block message  \n- List Customers:  \n  • Inputs: Filter by status, region, sales rep  \n  • Process: Query and paginate  \n  • Outputs: Customer grid  \n\n## 2. AR Invoice Entry\n\nCaptures and posts customer invoices with line-level detail, taxes, and discounts.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample layout:\n| Field         | Description                             |\n|--------------|------------------------------------------|\n| Invoice No   | System-generated unique identifier       |\n| Customer ID  | Linked to Customer Master                |\n| Date         | Invoice date (must be ≤ today)           |\n| Due Date     | Date = Invoice Date + Terms Days         |\n| Tax Code     | Selectable per line; default from settings |\n| Discount %   | If applicable; auto-calculated on total  |\n| Currency     | Default or customer preference           |\n| Total Amount | Sum of line amounts + tax – discount     |\n\n- Inputs: Customer ID, Invoice Date, Items (Product, Qty, Rate), Taxes, Discounts  \n- Process:  \n  1. Validate Customer status and credit limit  \n  2. Calculate line amounts, taxes, discounts  \n  3. Accumulate totals; Generate invoice number  \n  4. Post to AR sub-ledger and GL via interface  \n- Outputs: Invoice PDF; Ledger posting confirmation  \n\nBusiness Rules:  \n- Invoice Date cannot be in the future  \n- Total AR balance must not exceed credit limit  \n- Currency exchange rates applied at posting  \n\n## 3. Customer Receipt Entry\n\nRecords customer payments, applies against open invoices, and handles over/under payments.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Receipt Date, Customer ID, Payment Method, Amount, Bank/Cash Account, Allocation details (Invoice No, Amount)  \n- Process:  \n  1. Validate open invoices  \n  2. Allocate amounts; Calculate discounts/round-offs  \n  3. Post receipt to AR and GL; Update customer balance  \n  4. Handle unapplied amounts (suspense account)  \n- Outputs: Receipt voucher; GL posting confirmation  \n\nBusiness Rules:  \n- Receipt Date ≤ Today  \n- Overpayments stored in suspense account; Must clear within 30 days  \n\n## 4. AR Credit Memo Entry\n\nIssues credit memos for returns, billing errors, or adjustments.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Reference Invoice No, Reason Code, Date, Line items & amounts  \n- Process:  \n  1. Validate original invoice  \n  2. Generate credit memo number  \n  3. Post to AR and GL  \n- Outputs: Credit memo document; Ledger update  \n\nBusiness Rules:  \n- Credit memos reduce open invoice balances  \n- Cannot exceed original invoice amounts  \n\n## 5. AR Aging Report\n\nProvides aging buckets of outstanding receivables.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: As-of Date, Aging intervals (e.g., 0–30, 31–60)  \n- Process: Query open AR balances; Bucket by due date intervals  \n- Outputs: Aging grid by customer; Export to PDF/Excel  \n\n## 6. AR Ledger Report\n\nDisplays detailed AR transactions per customer.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Customer ID (optional), Date range  \n- Process: Fetch invoices, receipts, memos; Sort by date  \n- Outputs: Transaction ledger; Balance carry-forward  \n\n## 7. Customer Statement Report\n\nGenerates customer-specific statements showing opening balance, transactions, and closing balance.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Customer ID, Statement period, Delivery method (Email/PDF)  \n- Process: Compile AR ledger; Format statement  \n- Outputs: Statement document; Email dispatch if configured  \n\n# Accounts Payable Module\n\nThis module governs vendor-related transactions, from master data to invoice posting, payments, credit notes, and reporting on payables and aging.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n## 1. Vendor Master File\n\nMaintains vendor details, payment terms, and banking information.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Vendor ID | Name            | Terms (Days) | Currency | Bank Account         | Contact     | Status   |\n|----------:|-----------------|-------------:|---------|----------------------|-------------|----------|\n| VEND001   | Acme Suppliers  | 30           | USD      | 123-456-789 (Bank A) | Alice King  | Active   |\n| VEND002   | BuildIt Ltd     | 45           | EUR      | 987-654-321 (Bank B) | Bob Smith   | Active   |\n| VEND003   | CoreWare Inc    | 60           | GBP      | 555-666-777 (Bank C) | Carol Doe   | On Hold  |\n| VEND004   | DataLink        | 30           | USD      | 222-333-444 (Bank D) | Dan Lee     | Active   |\n| VEND005   | EquipMart       | 60           | USD      | 888-999-000 (Bank E) | Emma White  | Closed   |\n| VEND006   | FreshFoods      | 30           | USD      | 111-222-333 (Bank F) | Frank Hall  | Active   |\n| VEND007   | GranCore        | 90           | EUR      | 444-555-666 (Bank G) | Grace Kim   | Active   |\n\n- Create Vendor:  \n  • Inputs: Name, Address, Terms, Bank Details, Currency, Contact  \n  • Process: Validate uniqueness; Assign Vendor ID; Persist  \n  • Outputs: New vendor record  \n- Update Vendor:  \n  • Inputs: Vendor ID, Updated fields  \n  • Process: Validate; Update record; Log audit  \n  • Outputs: Updated vendor record  \n- Delete Vendor:  \n  • Inputs: Vendor ID  \n  • Process: Check open payables; Soft-delete or block  \n  • Outputs: Confirmation or error  \n- List Vendors:  \n  • Inputs: Filter by status, currency  \n  • Process: Query; Paginate  \n  • Outputs: Vendor grid  \n\n## 2. AP Invoice Entry\n\nRecords and posts vendor invoices, taxes, and rebates.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Vendor ID, Invoice Number, Date, Items (Product/Service, Qty, Rate), Tax Codes, Discounts  \n- Process:  \n  1. Validate vendor status; Invoice date ≤ Today  \n  2. Calculate line totals, tax, discount  \n  3. Accumulate totals; Generate AP reference  \n  4. Post to AP sub-ledger and GL  \n- Outputs: Invoice register; Posting confirmation  \n\nBusiness Rules:  \n- Duplicate invoice prevention via vendor+invoice number combination  \n- Tax codes must match vendor jurisdiction  \n\n## 3. AP Payment Entry\n\nCaptures payments to vendors, supports checks, electronic transfers, and advances.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Payment Date, Vendor ID, Payment Method, Bank Account, Amount, Allocation (Invoice Nos)  \n- Process:  \n  1. Validate open AP invoices  \n  2. Allocate payment; Calculate early payment discounts  \n  3. Generate payment document; Post to AP and GL  \n- Outputs: Payment advice; GL posting confirmation  \n\nBusiness Rules:  \n- Payment date ≤ Today; Cannot exceed open AP balance  \n- Early payment discounts applied automatically based on terms  \n\n## 4. AP Credit Note Entry\n\nProcesses vendor credit notes for returns or adjustments.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Reference AP Invoice, Credit Note No, Date, Amount  \n- Process:  \n  1. Validate original invoice existence  \n  2. Post credit note to AP and GL  \n- Outputs: Credit note register; Ledger update  \n\nBusiness Rules:  \n- Credit note amount cannot exceed original AP invoice  \n\n## 5. AP Aging Report\n\nLists outstanding vendor payables by aging buckets.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: As-of Date, Buckets (0–30,31–60,61–90,>90)  \n- Process: Query open AP balances; Bucket by due date  \n- Outputs: Aging grid; Export options  \n\n## 6. AP Ledger Report\n\nDisplays detailed vendor transaction history.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Vendor ID (optional), Date Range  \n- Process: Fetch invoices, payments, credits; Sort chronologically  \n- Outputs: Vendor ledger; Opening/closing balances  \n\n## 7. Vendor Statement Report\n\nGenerates payable statements for vendors, showing transactions and balances.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Vendor ID, Statement Period, Delivery Method  \n- Process: Compile AP ledger; Format statement  \n- Outputs: Statement document; Email dispatch  \n\n# Manufacturing Module\n\nThis module facilitates production planning and execution, from BOM and routing setup to work order processing and reporting on capacity and WIP.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n## 1. Bill of Materials Master File\n\nDefines product composition and component quantities.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| BOM ID  | Product ID | Version | Effective Date | Status   | Description           | Total Cost |\n|--------:|------------|--------:|---------------|----------|-----------------------|-----------:|\n| BOM001  | P001       | 1.0     | 2024-01-01    | Released | Smak Cola BOM         | 0.45       |\n| BOM002  | P002       | 1.0     | 2024-01-01    | Released | Smak Diet Cola BOM    | 0.48       |\n| BOM003  | P003       | 1.0     | 2024-01-05    | Released | Trade Orange BOM      | 0.30       |\n| BOM004  | P004       | 2.0     | 2024-02-01    | Released | Raw Batch Milk BOM    | 0.70       |\n| BOM005  | P005       | 1.0     | 2024-03-10    | Released | FillFast Juice BOM    | 0.65       |\n| BOM006  | P006       | 1.0     | 2024-03-15    | Released | Snack Bite BOM        | 0.20       |\n| BOM007  | P007       | 1.0     | 2024-04-01    | Released | Pulp Raw Mix BOM      | 4.50       |\n\n- Create BOM: inputs (Product ID, Version, Components); process (validate, calculate cost); outputs (new BOM)  \n- Update BOM: inputs (BOM ID, component changes); process (recalculate cost, validate version); outputs (updated BOM)  \n- Delete BOM: inputs (BOM ID); process (check WO dependencies); outputs (status)  \n- List BOMs: inputs (Product ID, Version); process (filter); outputs (BOM list)  \n\n## 2. Routing Master File\n\nSpecifies manufacturing steps, work centers, and standard times.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Routing ID | Operation Seq | Work Center | Std Time (min) | Description         | Status    | Setup Time (min) |\n|-----------:|--------------:|-------------|---------------:|---------------------|-----------|-----------------:|\n| ROUT001    | 10            | Mixer       | 15             | Initial mixing      | Released  | 5                |\n| ROUT001    | 20            | Filler      | 10             | Fill bottles        | Released  | 2                |\n| ROUT001    | 30            | Capper      | 5              | Cap placement       | Released  | 1                |\n| ROUT002    | 10            | Mixer       | 20             | Diet mixing         | Released  | 5                |\n| ROUT002    | 20            | Filler      | 12             | Fill bottles        | Released  | 2                |\n| ROUT002    | 30            | Capper      | 6              | Cap placement       | Released  | 1                |\n| ROUT003    | 10            | Blender     | 25             | Orange pulp blend   | Released  | 4                |\n\n- Create Routing: inputs (Product ID, Ops Seq, Work Centers, Times); process (validate sequences); outputs (new routing)  \n- Update Routing: inputs (Routing ID, changes); process (validate, save); outputs (updated routing)  \n- Delete Routing: inputs (Routing ID); process (dependency check); outputs (status)  \n- List Routings: inputs (Product ID); process (filter); outputs (routing steps)  \n\n## 3. Work Order Entry\n\nInitiates production orders based on demand.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: WO Number (auto), Product ID, Quantity, Start Date, End Date  \n- Process:  \n  1. Validate BOM and routing availability  \n  2. Check material availability  \n  3. Reserve components; Generate WIP transaction  \n- Outputs: Work order confirmation; Material reservation report  \n\nBusiness Rules:  \n- WO date range must be within planning horizon  \n- Partial WO splits create child orders  \n\n## 4. Material Issue Transaction\n\nIssues components from inventory to WIP for a specific WO.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: WO Number, Component List, Quantities  \n- Process:  \n  1. Validate available stock  \n  2. Deduct inventory; Create stock issue postings  \n  3. Update WO component status  \n- Outputs: Issue note; WIP component consumption log  \n\nBusiness Rules:  \n- Cannot issue more than required  \n- Backflush option at completion  \n\n## 5. Production Completion Transaction\n\nCompletes production, moves finished goods to inventory, calculates variances.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: WO Number, Completed Qty, Scrap Qty, Yield Qty  \n- Process:  \n  1. Validate WO and issued qty  \n  2. Issue scrap; Post finished goods; Reverse WIP  \n  3. Calculate cost variances  \n- Outputs: Completion confirmation; Variance report  \n\nBusiness Rules:  \n- Negative scrap not allowed  \n- Variances posted to cost-of-production accounts  \n\n## 6. Production Schedule Report\n\nLists planned and released work orders by date.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Date range, Plant/Line filter  \n- Process: Query WOs; Group by status and date  \n- Outputs: Gantt-style schedule; Export to PDF/Excel  \n\n## 7. WIP Report\n\nDisplays Work-in-Progress balances and statuses.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: WO Number (optional), As-of Date  \n- Process: Summarize WIP component consumption and FG receipts  \n- Outputs: WIP summary grid; Detail drill-down  \n\n# Petty Cash Module\n\nThis module manages petty cash transactions, vouchers, fund balances, and replenishment processes.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n## 1. Petty Cash Fund Master File\n\nDefines petty cash funds per location with limits and approvers.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Fund ID | Location   | Custodian     | Limit   | Currency | Status   | Approval Hierarchy      |\n|--------:|------------|---------------|--------:|----------|----------|------------------------|\n| PCF001   | HQ Office  | John Cash     | 1000.00 | USD      | Active   | Custodian → Finance    |\n| PCF002   | Plant A    | Mary Funds    | 2000.00 | USD      | Active   | Custodian → Plant Mgr  |\n| PCF003   | Plant B    | Steve Chips   | 1500.00 | USD      | On Hold  | Custodian → Finance    |\n| PCF004   | Warehouse  | Nancy Vault   | 500.00  | USD      | Active   | Custodian → Warehouse  |\n| PCF005   | Branch X   | Alice Tills   | 800.00  | USD      | Active   | Custodian → Branch Mgr |\n| PCF006   | Branch Y   | Bob Coins     | 1200.00 | USD      | Closed   | Custodian → Finance    |\n| PCF007   | Plant C    | Carol Tokens  | 1800.00 | USD      | Active   | Custodian → Maintenance|\n\n- Create Fund: inputs (Location, Custodian, Limit, Currency, Approvers); process (validate, save); outputs (new fund)  \n- Update Fund: inputs (Fund ID, fields); process (validate, update); outputs (updated)  \n- Delete Fund: inputs (Fund ID); process (check open vouchers); outputs (status)  \n- List Funds: inputs (filters); process (query); outputs (grid)  \n\n## 2. Petty Cash Voucher Entry\n\nCaptures petty cash expenditures with receipts and approvals.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Voucher No (auto), Fund ID, Date, Payee, Amount, Purpose, Receipts (attachments)  \n- Process:  \n  1. Validate fund balance  \n  2. Assign voucher number; Post to petty cash ledger  \n  3. Route for approvals per hierarchy  \n- Outputs: Voucher record; Approval notification  \n\nBusiness Rules:  \n- Voucher amount ≤ remaining fund balance  \n- Receipts mandatory for amounts > $50  \n\n## 3. Petty Cash Replenishment Request\n\nRequests replenishment when fund balance falls below threshold.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Fund ID, Current Balance, Requested Amount, Reason  \n- Process:  \n  1. Calculate threshold trigger  \n  2. Generate replenishment request; Route to Finance  \n- Outputs: Replenishment request; Email to Finance  \n\nBusiness Rules:  \n- Threshold = 20% of initial fund limit  \n- Maximum replenishment = original fund limit  \n\n## 4. Petty Cash Journal Report\n\nDisplays all petty cash vouchers and replenishments.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Fund ID (optional), Date Range  \n- Process: Fetch vouchers, payments, replenishments; Compile journal  \n- Outputs: Journal report; Export options  \n\n## 5. Petty Cash Balance Report\n\nShows current balances and outstanding vouchers by fund.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Fund ID (optional), As-of Date  \n- Process: Summarize transactions; Calculate balances  \n- Outputs: Balance grid; Drill-down links  \n\n# Sugar Tax Module\n\nThis module calculates and reports sugar tax liabilities based on product formulations and regulatory requirements.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n## 1. Sugar Tax Rate Master File\n\nMaintains sugar tax rates per product category and jurisdiction.\n\n```json\n{\"brsDiagram\": {}}\n```\n\nSample data:\n| Rate ID | Category      | Jurisdiction | Effective Date | Rate per Kg | Status   | Note               |\n|--------:|---------------|-------------|---------------|-------------:|----------|--------------------|\n| STR001   | 190 FRUIT     | Country A   | 2023-01-01    | 0.05         | Active   | Annual review      |\n| STR002   | 190 MILK      | Country A   | 2023-01-01    | 0.04         | Active   |                    |\n| STR003   | WATER         | Country A   | 2023-01-01    | 0.00         | Active   | Zero-rated         |\n| STR004   | HOT & SPICY   | Country A   | 2024-01-01    | 0.06         | Active   | Adjusted for VAT   |\n| STR005   | RAW MATERIAL  | Country A   | 2024-01-01    | 0.03         | Active   |                    |\n| STR006   | TETRA         | Country A   | 2023-06-01    | 0.05         | Active   | Mid-year update    |\n| STR007   | SNACK         | Country A   | 2023-01-01    | 0.07         | Active   | Includes packaging |\n\n- Create Rate: inputs (Category, Jurisdiction, Effective Date, Rate); process (validate, save); outputs (new rate)  \n- Update Rate: inputs (Rate ID, changed fields); process (version control); outputs (updated)  \n- Delete Rate: inputs (Rate ID); process (dependency check); outputs (status)  \n- List Rates: inputs (filters); process (query); outputs (rate grid)  \n\n## 2. Sugar Tax Calculation Screen\n\nCalculates sugar tax for products based on recipe and volume.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Product ID, Batch Size (kg), Sugar Content % (auto from QC data), Jurisdiction  \n- Process:  \n  1. Fetch sugar tax rate  \n  2. Compute tax = Batch Size × Sugar % × Rate per Kg  \n  3. Display calculation breakdown  \n- Outputs: Tax amount; Calculation report  \n\nBusiness Rules:  \n- Use latest effective rate as of production date  \n- If sugar content > 15%, surcharge of 10% on computed tax  \n\n## 3. Sugar Tax Return Submission\n\nAggregates tax liabilities and prepares regulatory filings.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Period (Month/Quarter), Jurisdiction  \n- Process:  \n  1. Summarize tax per product and period  \n  2. Validate against general ledger postings  \n  3. Generate return file per regulatory format  \n- Outputs: Submission document; Filing summary  \n\nBusiness Rules:  \n- Returns due within 15 days of period end  \n- Late filings incur penalty calculations  \n\n## 4. Sugar Tax Liability Report\n\nShows period-to-date and projected sugar tax liabilities.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Period, Jurisdiction  \n- Process: Aggregate computed taxes; Compare actual vs projected  \n- Outputs: Liability summary; Variance analysis  \n\n## 5. Sugar Tax Return History Report\n\nLists past submissions, statuses, and payments.\n\n```json\n{\"brsDiagram\": {}}\n```\n\n- Inputs: Jurisdiction (optional), Year  \n- Process: Query return records; Sort by date  \n- Outputs: Returns history; Downloadable attachments  \n\n# NOTES\n\n1. Add comprehensive module sections for Accounts Receivable, Accounts Payable, Manufacturing, Petty Cash, and Sugar Tax, each with master files, transactions, reports, business rules, and process details as specified in the user notes.  \n2. Restructure the Stock & Sales module to have clearly separated sub-sections: Common, Master Files, Transactions, and Reports, and ensure all details (business rules, formulas, approval flows) are included under the correct headings.  \n3. Move any master files, screens, or transactions that belong to other modules out of Stock & Sales and into their respective new modules.  \n4. Add an updated overview at the top of the document explaining the inclusion of all modules, the reconstruction rationale, and referencing the unedited user notes at the bottom for full context.  \n5. Ensure every business rule, formula, screen and data validation requirement, report, master file structure, and process flow from the notes are captured accurately in the correct module section.  \n6. Update or create a table of contents to accurately reflect all modules and sections as now covered by the document.  \n7. Use professional sectioning and clear module boundaries throughout, following the detailed notes for organization and clarity.  \n8. At the very end of the document, add a section titled \"NOTES\" and include the user's notes exactly as supplied, without shortening or paraphrasing.  \n9. Apply all detailed requirements from the user's notes to their respective sections in the BRS, ensuring completeness and accuracy."
  }
}